!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("frappe-gantt")):"function"==typeof define&&define.amd?define(["exports","react","frappe-gantt"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).FrappeGanttReact={},t.React,t.Gantt)}(this,(function(t,e,n){"use strict";function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=o(e),i=o(n),s=function(t,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},s(t,e)};var a,p=function(){function t(t){void 0===t&&(t={}),this._dependencies=[],this.id="",this.name="",this.start="",this.end="",this._progress=.52,Object.assign(this,t)}return Object.defineProperty(t.prototype,"progress",{get:function(){return this._progress||.52},set:function(t){this._progress=t||.52},enumerable:!1,configurable:!0}),t.prototype.setDependencies=function(t){this._dependencies=Array.isArray(t)?t:t.split(",").map((function(t){return t.trim()}))},Object.defineProperty(t.prototype,"dependencies",{get:function(){return this._dependencies},set:function(t){this._dependencies=Array.isArray(t)?t:t.split(",").map((function(t){return t.trim()})).filter(Boolean)},enumerable:!1,configurable:!0}),t}();t.ViewMode=void 0,(a=t.ViewMode||(t.ViewMode={})).QuarterDay="Quarter Day",a.HalfDay="Half Day",a.Day="Day",a.Week="Week",a.Month="Month";var c={viewMode:t.ViewMode.Day,onTasksChange:function(t){},onClick:function(t){},onDateChange:function(t,e,n){},onProgressChange:function(t,e){},onViewChange:function(t){}},u=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n._target=e.createRef(),n._svg=e.createRef(),n._gantt=null,n.state={viewMode:null,tasks:[]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(n,t),n.getDerivedStateFromProps=function(t,e){return{viewMode:t.viewMode,tasks:t.tasks.map((function(t){return new p(t)}))}},n.prototype.componentDidUpdate=function(){this._gantt&&(this._gantt.refresh(this.state.tasks),this._gantt.change_view_mode(this.state.viewMode))},n.prototype.componentDidMount=function(){var t=this;this._gantt=new i.default(this._svg.current,this.state.tasks,{on_click:this.props.onClick,on_view_change:this.props.onViewChange,on_progress_change:function(e,n){t.props.onProgressChange(e,n),t.props.onTasksChange(t.props.tasks)},on_date_change:function(e,n,o){t.props.onDateChange(e,n,o),t.props.onTasksChange(t.props.tasks)}}),this._gantt&&this._gantt.change_view_mode(this.state.viewMode);var e=.5*this._svg.current.clientWidth;this._target.current.scrollLeft=e},n.prototype.render=function(){return r.default.createElement("div",{style:{overflow:"scroll"},ref:this._target},r.default.createElement("svg",{ref:this._svg,width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"}))},n.defaultProps=c,n}(r.default.Component);t.FrappeGantt=u,t.Task=p,Object.defineProperty(t,"__esModule",{value:!0})}));
